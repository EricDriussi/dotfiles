# Font
font pango: UbuntuMedium 14
font pango: JetBrainsMonoMedium 12
font pango: FiraMonoNerdFontRegular 12

# Basic Keys
set $Mod Mod4
set $up k
set $down j
set $left h
set $right l

#############
# Autostart #
#############

# run once
exec --no-startup-id obsidian
exec --no-startup-id pavucontrol
exec --no-startup-id thunderbird
exec --no-startup-id slack
exec --no-startup-id brave
exec --no-startup-id nextcloud

# get auth work with polkit-gnome
exec --no-startup-id /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1

# setup displays
exec --no-startup-id ~/.screenlayout/monitor.sh

exec --no-startup-id picom -CGb
exec --no-startup-id unclutter

# networkmanager-applet
exec --no-startup-id nm-applet

# set wallpaper
exec --no-startup-id nitrogen --restore

# set powersavings for display:
#exec --no-startup-id xset s 480 dpms 600 600 600
exec --no-startup-id xset r rate 350 60

# JESUS CHRIST THE SYSTEM BELL
exec --no-startup-id xset b off

# Desktop notifications
exec --no-startup-id dbus-launch dunst --config ~/.config/dunst/dunstrc

# run with reload
exec_always --no-startup-id exec touchpad-toggle
#exec_always --no-startup-id exec light -S 100
exec_always --no-startup-id ~/.config/polybar/launch.sh
exec_always --no-startup-id alternating_layouts.py

# needed for super to launch rofi through ksuperkey, see ~/.xprofile
#bindsym Mod1+F1 exec --no-startup-id #rofi_run -r
#exec --no-startup-id ksuperkey -e 'Super_L=Alt_L|F1'
#exec --no-startup-id ksuperkey -e 'Super_R=Alt_L|F1'

########
# Rofi #
########

# Launcher
bindsym Mod1+space exec rofi -modi drun -show drun -config ~/.config/rofi/rofidmenu.rasi
# Switcher
bindsym $mod+t exec rofi -show window -config ~/.config/rofi/rofidmenu.rasi
# Shutdown
bindsym $Mod+x exec ~/.config/rofi/powermenu.sh

############
# Bindings #
############

# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $Mod+Shift+r restart

# reload the configuration file
bindsym $Mod+Shift+c reload

bindsym $Mod+f fullscreen toggle
bindsym Control+m exec touchpad-toggle

# kill focused window
bindsym $Mod+Shift+q kill

# Terminal
#bindsym $Mod+Return exec --no-startup-id exo-open --launch TerminalEmulator
bindsym $Mod+Return exec --no-startup-id alacritty

# Screenshot
bindsym Print exec --no-startup-id flameshot gui

# Audio
bindsym Control+F7 exec --no-startup-id pactl set-sink-volume 0 -10% && pactl set-sink-volume 1 -10%
bindsym Control+F8 exec --no-startup-id pactl set-sink-volume 0 +10% && pactl set-sink-volume 1 +10%
bindsym Control+F6 exec --no-startup-id pactl set-sink-mute 0 toggle && pactl set-sink-mute 1 toggle

# Media Keys
# volume
bindsym XF86AudioRaiseVolume exec amixer -D pulse sset Master 5%+ && pkill -RTMIN+1 i3blocks
bindsym XF86AudioLowerVolume exec amixer -D pulse sset Master 5%- && pkill -RTMIN+1 i3blocks
# mute
#bindsym XF86AudioMute exec amixer sset Master toggle && killall -USR1 i3blocks
bindsym XF86AudioMute exec pamixer -t && notify-send "mute: $(pamixer --get-mute)"

bindsym XF86AudioPlay exec playerctl play
bindsym XF86AudioPause exec playerctl pause
bindsym XF86AudioNext exec playerctl next
bindsym XF86AudioPrev exec playerctl previous

#####################
# Workspace-Monitor #
#####################

workspace 1 output HDMI-0
workspace 2 output HDMI-0
workspace 3 output HDMI-0
workspace 4 output HDMI-0
workspace 5 output HDMI-0
workspace 6 output eDP-1-1
workspace 7 output eDP-1-1
workspace 8 output eDP-1-1
workspace 9 output eDP-1-1

#####################
# Workspace Control #
#####################

# Switch To
bindsym $Mod+1 workspace 1
bindsym $Mod+2 workspace 2
bindsym $Mod+3 workspace 3
bindsym $Mod+4 workspace 4
bindsym $Mod+5 workspace 5
bindsym $Mod+6 workspace 6
bindsym $Mod+7 workspace 7
bindsym $Mod+8 workspace 8
bindsym $Mod+9 workspace 9

# Switch To Next or Previous Workspace
bindsym $mod+Mod1+Left workspace prev
bindsym $mod+Mod1+Right workspace next

# Move Focused Window
bindsym $Mod+Shift+1 move container to workspace 1; workspace 1
bindsym $Mod+Shift+2 move container to workspace 2; workspace 2
bindsym $Mod+Shift+3 move container to workspace 3; workspace 3
bindsym $Mod+Shift+4 move container to workspace 4; workspace 4
bindsym $Mod+Shift+5 move container to workspace 5; workspace 5
bindsym $Mod+Shift+6 move container to workspace 6; workspace 6
bindsym $Mod+Shift+7 move container to workspace 7; workspace 7
bindsym $Mod+Shift+8 move container to workspace 8; workspace 8
bindsym $Mod+Shift+9 move container to workspace 9; workspace 9

##################
# Window Control #
##################

# Floating
bindsym $Mod+space floating toggle
floating_modifier  $Mod

# Scratchpad
bindsym $Mod+Shift+z move scratchpad
bindsym $Mod+z scratchpad show

# change focus
bindsym $Mod+$left  focus left
bindsym $Mod+$down  focus down
bindsym $Mod+$up    focus up
bindsym $Mod+$right focus right

# alternatively, you can use the cursor keys:
bindsym $Mod+Left  focus left
bindsym $Mod+Down  focus down
bindsym $Mod+Up    focus up
bindsym $Mod+Right focus right

# move focused window
bindsym $Mod+Shift+$left  move left  30px
bindsym $Mod+Shift+$down  move down  30px
bindsym $Mod+Shift+$up    move up    30px
bindsym $Mod+Shift+$right move right 30px

# alternatively, you can use the cursor keys:
bindsym $Mod+Shift+Up    move up    30px
bindsym $Mod+Shift+Down  move down  30px
bindsym $Mod+Shift+Left  move left  30px
bindsym $Mod+Shift+Right move right 30px

# Size
bindsym Mod1+Up    resize shrink height 10 px or 1 ppt
bindsym Mod1+Down  resize grow   height 10 px or 1 ppt
bindsym Mod1+Left  resize shrink width  10 px or 1 ppt
bindsym Mod1+Right resize grow   width  10 px or 1 ppt

#################
# Border & Gaps #
#################

new_window normal
new_float  normal

hide_edge_borders both
popup_during_fullscreen smart

bindsym $Mod+shift+b border toggle

# border & title
for_window [class="^.*"] border pixel 1.5, title_format "<b> %class >> %title </b>"

# gaps
gaps inner 8
gaps outer 0


####################
# Assign Workspace #
####################

assign [class="(?i)(?:brave)"] → 1
assign [class="(?i)(?:thunderbird)"]   → 2
assign [class="(?i)(?:slack)"] → 6
assign [class="(?i)(?:pavucontrol)"] → 7
assign [class="(?i)(?:obsidian)"] → 9

####################
# Floating Windows #
####################

for_window [class="zoom"] floating enable
for_window [class="(?i)(?:catfish)"]          floating enable
for_window [class="(?i)(?:Lxappearance)"]          floating enable
for_window [class="(?i)(?:gparted)"]          floating enable
for_window [class="(?i)(?:qt5ct|pinentry)"]          floating enable
for_window [title="(?i)(?:copying|deleting|moving)"] floating enable
for_window [window_role="(?i)(?:pop-up|setup)"]      floating enable

# EOS
for_window [class="Yad" instance="yad"] floating enable
for_window [class="Galculator" instance="galculator"] floating enable
for_window [class="Pavucontrol"] floating enable
for_window [class="qt5ct" instance="qt5ct"] floating enable
#for_window [class="Blueberry.py" instance="blueberry.py"] floating enable
#for_window [class="Xsane" instance="xsane"] floating enable
#for_window [class="Blueberry.py" instance="blueberry.py"] floating enable
#for_window [class="Bluetooth-sendto" instance="bluetooth-sendto"] floating enable
#for_window [class="Pamac-manager"] floating enable

################
# Window Color #
################

# Define colors variables:
set $darkblue		#08052b
set $urgentred		#e53935
set $white		#ffffff
set $grey		#b0b5bd

# Define colors variables from Xresources
set_from_resource $red color9
set_from_resource $lightBlue color12
set_from_resource $bg background
set_from_resource $darkGreen color2
set_from_resource $foreground foreground
set_from_resource $lightGray color7

# define colors for windows:
#class		        	    border		    bground		 text		  indicator	child_border
client.focused		      $lightBlue	  $darkblue	 $white		$lightGray $lightGray
client.unfocused	      $darkblue	    $darkblue  $grey	  $bg        $bg
client.focused_inactive	$darkblue	    $darkblue	 $grey		$bg        $bg
client.urgent		        $urgentred	  $urgentred $white		$darkGreen $red
